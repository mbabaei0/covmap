


<div *ngIf="dataService.stats$ | async as stats; else loading">
  Filter by : {{ filter }}
  <div>
    <button (click)="filterData('deaths')">Deaths</button>
    <button (click)="filterData('cases')">Cases</button>
    <button (click)="filterData('tests')">Tests</button>
  </div>
  <cov-map [data]="stats" (select)="onSelectContry($event)" [filter]="filter"></cov-map>

  <cov-country-chart
    [countryName]="selectedCountry?.name"
    [data]="selectedNumbers"
    [labels]="chartLabels"
    [maxValue]="20"
  ></cov-country-chart>

  <li *ngFor="let item of stats">{{ item.percent }} {{ item.country }}</li>
</div>

<ng-template #loading>loading</ng-template>
